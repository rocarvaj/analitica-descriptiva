<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-0.9.260">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Analítica descriptiva de datos con Python - 1&nbsp; Tablas de datos</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<link href="./referencias.html" rel="next">
<link href="./index.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link id="quarto-text-highlighting-styles" href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Tablas de datos</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Analítica descriptiva de datos con Python</a> 
        <div class="sidebar-tools-main">
    <a href="https://twitter.com/rocarvaj" title="" class="sidebar-tool px-1"><i class="bi bi-twitter"></i></a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Introducción</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-tablas-de-datos.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Tablas de datos</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./referencias.html" class="sidebar-item-text sidebar-link">Referencias</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#qué-es-una-tabla-de-datos" id="toc-qué-es-una-tabla-de-datos" class="nav-link active" data-scroll-target="#qué-es-una-tabla-de-datos"> <span class="header-section-number">1.1</span> ¿Qué es una tabla de datos?</a>
  <ul class="collapse">
  <li><a href="#tablas-largas" id="toc-tablas-largas" class="nav-link" data-scroll-target="#tablas-largas"> <span class="header-section-number">1.1.1</span> Tablas largas</a></li>
  </ul></li>
  <li><a href="#la-librería-pandas" id="toc-la-librería-pandas" class="nav-link" data-scroll-target="#la-librería-pandas"> <span class="header-section-number">1.2</span> La librería pandas</a></li>
  <li><a href="#cargado-de-tablas" id="toc-cargado-de-tablas" class="nav-link" data-scroll-target="#cargado-de-tablas"> <span class="header-section-number">1.3</span> Cargado de tablas</a>
  <ul class="collapse">
  <li><a href="#cargado-desde-un-archivo" id="toc-cargado-desde-un-archivo" class="nav-link" data-scroll-target="#cargado-desde-un-archivo"> <span class="header-section-number">1.3.1</span> Cargado desde un archivo</a></li>
  <li><a href="#cargando-desde-un-archivo-en-internet" id="toc-cargando-desde-un-archivo-en-internet" class="nav-link" data-scroll-target="#cargando-desde-un-archivo-en-internet"> <span class="header-section-number">1.3.2</span> Cargando desde un archivo en internet</a></li>
  <li><a href="#dataframe" id="toc-dataframe" class="nav-link" data-scroll-target="#dataframe"> <span class="header-section-number">1.3.3</span> DataFrame</a></li>
  </ul></li>
  <li><a href="#inspección-de-tablas" id="toc-inspección-de-tablas" class="nav-link" data-scroll-target="#inspección-de-tablas"> <span class="header-section-number">1.4</span> Inspección de tablas</a>
  <ul class="collapse">
  <li><a href="#ejemplo" id="toc-ejemplo" class="nav-link" data-scroll-target="#ejemplo">Ejemplo</a></li>
  </ul></li>
  <li><a href="#subconjuntos-de-filas" id="toc-subconjuntos-de-filas" class="nav-link" data-scroll-target="#subconjuntos-de-filas"> <span class="header-section-number">1.5</span> Subconjuntos de filas</a>
  <ul class="collapse">
  <li><a href="#subconjuntos-por-valor" id="toc-subconjuntos-por-valor" class="nav-link" data-scroll-target="#subconjuntos-por-valor"> <span class="header-section-number">1.5.1</span> Subconjuntos por valor</a></li>
  <li><a href="#subconjuntos-por-posición" id="toc-subconjuntos-por-posición" class="nav-link" data-scroll-target="#subconjuntos-por-posición"> <span class="header-section-number">1.5.2</span> Subconjuntos por posición</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="tablas" class="quarto-section-identifier d-none d-lg-block"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Tablas de datos</span></span></h1>
</div>





<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<section id="qué-es-una-tabla-de-datos" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="qué-es-una-tabla-de-datos"><span class="header-section-number">1.1</span> ¿Qué es una tabla de datos?</h2>
<p>Responder a esta pregunta se siente muy parecido a responder a “¿qué es un vaso de agua?”, parece ser difícil hacerlo sin caer en algo de redundancia. Pero bueno, aquí vamos:</p>
<blockquote class="blockquote">
<p>Una tabla de datos es una representación de cualquier tipo de información en forma tabular, es decir, ordenada en filas y columnas.</p>
</blockquote>
<p>Los ejemplos de tablas de datos son muchos y los hay muy antiguos como esta tableta de arcilla que data de alrededor del 3000 A.C., usada para mantener cuentas de granos de malta y cebada<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/tableta-arcilla.jpg" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Tableta de arcilla</figcaption><p></p>
</figure>
</div>
<p>Otro ejemplo más conocido, es la tabla periódica de los elementos<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/tabla-periodica.jpg" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Tabla periódica</figcaption><p></p>
</figure>
</div>
<p>Las tablas de datos que en realidad nos interesan aquí son más tradicionales: aquellas que tienen información representada por números o cadenas de caracteres (o <em>strings</em>).</p>
<section id="tablas-largas" class="level3" data-number="1.1.1">
<h3 data-number="1.1.1" class="anchored" data-anchor-id="tablas-largas"><span class="header-section-number">1.1.1</span> Tablas largas</h3>
<p>Notemos que tal y como señala la definición de tabla de datos que hemos entregado más arriba, una tabla es sólo una representación de ciertos datos. Esto implica que puede haber más de una tabla para representar a un conjunto de datos.</p>
<p>Por ejemplo, consideremos la siguiente tabla que representa los resultados de dos exámenes médicos para tres personas:</p>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: center;"></th>
<th style="text-align: center;">Examen 1</th>
<th style="text-align: center;">Examen 2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Juan</td>
<td style="text-align: center;">10</td>
<td style="text-align: center;">2</td>
</tr>
<tr class="even">
<td style="text-align: center;">Clara</td>
<td style="text-align: center;">15</td>
<td style="text-align: center;">5</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Lin</td>
<td style="text-align: center;">9</td>
<td style="text-align: center;">4</td>
</tr>
</tbody>
</table>
<p>Otra manera de representar la misma información es simplemente trasponiendo la tabla anterior (cambiando las filas por columnas):</p>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: center;"></th>
<th style="text-align: center;">Juan</th>
<th style="text-align: center;">Clara</th>
<th style="text-align: center;">Lin</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Examen 1</td>
<td style="text-align: center;">10</td>
<td style="text-align: center;">15</td>
<td style="text-align: center;">9</td>
</tr>
<tr class="even">
<td style="text-align: center;">Examen 2</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">5</td>
<td style="text-align: center;">4</td>
</tr>
</tbody>
</table>
<p>Una tercera manera, que puede parecer un poco menos eficiente, es la siguiente:</p>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: center;">Nombre</th>
<th style="text-align: center;">Examen</th>
<th style="text-align: center;">Resultado</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Juan</td>
<td style="text-align: center;">Examen 1</td>
<td style="text-align: center;">10</td>
</tr>
<tr class="even">
<td style="text-align: center;">Clara</td>
<td style="text-align: center;">Examen 1</td>
<td style="text-align: center;">15</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Lin</td>
<td style="text-align: center;">Examen 1</td>
<td style="text-align: center;">9</td>
</tr>
<tr class="even">
<td style="text-align: center;">Juan</td>
<td style="text-align: center;">Examen 2</td>
<td style="text-align: center;">2</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Clara</td>
<td style="text-align: center;">Examen 2</td>
<td style="text-align: center;">5</td>
</tr>
<tr class="even">
<td style="text-align: center;">Lin</td>
<td style="text-align: center;">Examen 2</td>
<td style="text-align: center;">4</td>
</tr>
</tbody>
</table>
<p>En esta tabla parece que estuviésemos repitiendo información, sin embargo tiene una característica que la hacen mucho más sencilla de manipular, analizar y visualizar:</p>
<blockquote class="blockquote">
<p>Cada columna corresponde a una variable y cada fila corresponde a una observación.</p>
</blockquote>
<p>Una tabla de datos con esta característica se dice larga (o también <em>tidy</em>).</p>
<p>La razón por la que este tipo de tablas es útil tiene que ver principalmente con que entrega una manera estandarizada de representar datos. Quien hace el análisis (o incluso un computador) puede extraer fácilmente cualquier variable que sea de interés.</p>
<p>En nuestro ejemplo, las dos primeras versiones de la tabla no es claro (a menos que alguien nos lo explique previamente) dónde están las variables y las observaciones. Por otra parte, en una tabla larga, el rol de filas y columnas es claro.</p>
<p>La utilidad de este formato se hará más evidente a medida que avancemos en las siguientes secciones.</p>
</section>
</section>
<section id="la-librería-pandas" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="la-librería-pandas"><span class="header-section-number">1.2</span> La librería pandas</h2>
<p>En lo que sigue usaremos la librería de Python llamada pandas<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>. pandas provee de estructuras de datos y funciones especialmente diseñadas para el análisis y la manipulación de datos.</p>
<p>Para practicar junto con la lectura de este apunte, te recomendamos el uso de algún entorno online que permita ejecutar código de Python tales como <a href="https://colab.research.google.com/">Google Colab</a> o <a href="https://www.kaggle.com/code">Kaggle Notebooks</a>. La ventaja usar alguno de estos servicios es evitar la necesidad de realizar cualquier instalación local en el computador en el que se está trabajando.</p>
<p>Si por el contrario deseas utilizar un entorno local, puedes seguir las instrucciones de instalación de Python y pandas disponibles <a href="https://pandas.pydata.org/docs/getting_started/install.html">aquí</a>.</p>
<p>Cada vez que queramos utilizar pandas en un script o notebook de Python debemos cargar la librería de la siguiente manera:</p>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>A través de este comando, le estamos diciendo a Python que importe todas las funciones de pandas y que utilice el “apodo” <code>pd</code> referirse a la librería, esto permitirá que más adelante podamos escribir <code>pd</code> en lugar de <code>pandas</code> en nuestro código.</p>
</section>
<section id="cargado-de-tablas" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="cargado-de-tablas"><span class="header-section-number">1.3</span> Cargado de tablas</h2>
<p>Hacer analítica descriptiva de datos sin datos es equivalente a surfear sin agua. Partamos por usar pandas para cargar datos.</p>
<p>Los datos tienen en general varias fuentes, estas pueden ser:</p>
<ul>
<li>datos almacenados en una disco duro local o remoto,</li>
<li>datos almacenados en servidores online,</li>
<li>datos incluídos en una librería de Python.</li>
</ul>
<section id="cargado-desde-un-archivo" class="level3" data-number="1.3.1">
<h3 data-number="1.3.1" class="anchored" data-anchor-id="cargado-desde-un-archivo"><span class="header-section-number">1.3.1</span> Cargado desde un archivo</h3>
<p>Al cargar datos que están almacenados en un archivo, hay dos preguntas a responder:</p>
<ul>
<li>¿En qué formato están almacenados los datos del archivo?</li>
<li>¿Dónde está ubicado el archivo?</li>
</ul>
<p>Hay muchas formas en que es posible almacenar datos en un archivo. Algunos de los formatos más comunes son:</p>
<ul>
<li>El formato <code>csv</code>. La sigla “csv” proviene de <em>“comma separated values”</em> (valores separados por coma).</li>
<li>El formato <code>xls</code>. Este corresponde a un formato de archivos usado por Microsoft Excel hasta el año 2006.</li>
<li>El formato <code>xlsx</code>. Este corresponde a un formato de archivos usado por Microsoft Excel a partir del año 2007. Es un formato más moderno basado en Open XML, otro formato más general aún.</li>
<li>El formato <code>json</code> (JavaScript Object Notation). Este en formato estándar abierto que utiliza una estructura muy parecida a los diccionario de Python, con pares de llaves y valores.</li>
<li>Formatos propietaros de sistemas de software para el análisis de datos como <code>dta</code> (Stata), <code>sav</code> (SPSS), <code>sas7bdat</code>, <code>sd7</code>, <code>sd2</code>, <code>ssd01</code>(SAS), y otros.</li>
</ul>
<p>Lo importante es que pandas puede leer todos los formatos antes mencionados, y muchos otros. Los más comunes de estos son <code>csv</code> y <code>xls</code>/<code>xlsx</code>. Para más información acerca de otros tipos de archivo, consulta <a href="https://pandas.pydata.org/docs/user_guide/io.html">la documentación de pandas</a>.</p>
<p>Para cargar un archivo <code>csv</code>, usamos:</p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>mi_tabla <span class="op">=</span> pd.read_csv(<span class="st">"mi-archivo-con-datos.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Para cargar un archivo <code>xls</code> o <code>xlsx</code>, usamos:</p>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>mi_tabla <span class="op">=</span> pd.read_excel(<span class="st">"data/mi-archivo-con-datos.xlsx"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Podemos especificar la hoja del archivo de MS Excel que queremos cargar con el argumento <code>sheet-name</code>. Para más información, ver la documentación de la función <a href="https://pandas.pydata.org/docs/reference/api/pandas.read_excel.html"><code>read_excel</code></a>.</p>
</div>
</div>
<p>Observa que en el ejemplo anterior, además de indicar el nombre del archivo, indicamos el directorio en que está ubicado. En este caso, el archivo está dentro de un directorio llamado <code>data</code>.</p>
<p>Prueba cargando el archivo <code>ejemplo-notas.csv</code>, que está disponible en el <a href="https://raw.githubusercontent.com/rocarvaj/analitica-descriptiva/main/datos/ejemplo-notas.csv">siguiente link</a><a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a>. De hecho, usaremos este archivo en el resto de este capítulo.</p>
</section>
<section id="cargando-desde-un-archivo-en-internet" class="level3" data-number="1.3.2">
<h3 data-number="1.3.2" class="anchored" data-anchor-id="cargando-desde-un-archivo-en-internet"><span class="header-section-number">1.3.2</span> Cargando desde un archivo en internet</h3>
<p>También podemos cargar datos desde un archivo disponible online. Para esto basta conocer la dirección (o URL) del archivo en cuestión. Por ejemplo, también podrías cargar la base de datos <code>ejemplo-notas.csv</code> usando el comando:</p>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>notas <span class="op">=</span> pd.read_csv(<span class="st">"https://raw.githubusercontent.com/rocarvaj/analitica-descriptiva/main/datos/ejemplo-notas.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="dataframe" class="level3" data-number="1.3.3">
<h3 data-number="1.3.3" class="anchored" data-anchor-id="dataframe"><span class="header-section-number">1.3.3</span> DataFrame</h3>
<p>En los ejemplos anteriores las funciones <code>pd.read_csv()</code> y <code>pd.read_excel()</code> retornan un objeto de tipo <code>DataFrame</code>. El DataFrame es la estructura de datos primaria de pandas y está especialmente diseñada para almacenar datos en formato tabular.</p>
</section>
</section>
<section id="inspección-de-tablas" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="inspección-de-tablas"><span class="header-section-number">1.4</span> Inspección de tablas</h2>
<p>En esta sección veremos como usar pandas para inspeccionar una tabla de datos. Es decir, para determinar rápidamente cuántas variables y observaciones tiene, y más o menos, qué valores toman. Para ellos, usaremos la base de datos <code>notas</code> que cargamos a modo de ejemplo en la sección “<a href="#cargado-desde-un-archivo">Cargado desde un archivo</a>”.</p>
<p>Esta base de datos tienes las características de algunos alumnos de un curso ficticio, junto con sus notas y asistencia.</p>
<p>Podemos mirar la base de datos simplemente escribiendo su nombre:</p>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>notas</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="44">
<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Nombre</th>
      <th>Género</th>
      <th>Edad</th>
      <th>País</th>
      <th>Prueba 1</th>
      <th>Prueba 2</th>
      <th>Tarea 1</th>
      <th>Tarea 2</th>
      <th>Tarea 3</th>
      <th>Examen</th>
      <th>Asistencia</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Diego Alberto Rojas</td>
      <td>Masculino</td>
      <td>23</td>
      <td>Chile</td>
      <td>7.0</td>
      <td>3.5</td>
      <td>6.3</td>
      <td>3.5</td>
      <td>6.0</td>
      <td>5.7</td>
      <td>12</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Bernarda Antonia Chen</td>
      <td>Femenino</td>
      <td>25</td>
      <td>Perú</td>
      <td>3.0</td>
      <td>4.1</td>
      <td>4.4</td>
      <td>5.0</td>
      <td>6.7</td>
      <td>4.2</td>
      <td>9</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Tito Lenin Pérez</td>
      <td>Masculino</td>
      <td>40</td>
      <td>Costa Rica</td>
      <td>5.3</td>
      <td>4.8</td>
      <td>4.5</td>
      <td>5.5</td>
      <td>6.0</td>
      <td>5.0</td>
      <td>13</td>
    </tr>
    <tr>
      <th>3</th>
      <td>María Marcia González</td>
      <td>Femenino</td>
      <td>25</td>
      <td>Chile</td>
      <td>6.8</td>
      <td>7.0</td>
      <td>7.0</td>
      <td>7.0</td>
      <td>6.8</td>
      <td>6.5</td>
      <td>14</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Claudia María Valencia</td>
      <td>Femenino</td>
      <td>24</td>
      <td>Perú</td>
      <td>5.8</td>
      <td>1.0</td>
      <td>6.2</td>
      <td>7.0</td>
      <td>6.2</td>
      <td>7.0</td>
      <td>15</td>
    </tr>
    <tr>
      <th>5</th>
      <td>José Esteban Iruarrizaga</td>
      <td>Masculino</td>
      <td>18</td>
      <td>Costa Rica</td>
      <td>3.8</td>
      <td>2.3</td>
      <td>4.1</td>
      <td>3.7</td>
      <td>5.0</td>
      <td>4.0</td>
      <td>6</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Federica Von Müller</td>
      <td>Femenino</td>
      <td>22</td>
      <td>Alemania</td>
      <td>6.0</td>
      <td>5.0</td>
      <td>6.0</td>
      <td>6.1</td>
      <td>6.0</td>
      <td>7.0</td>
      <td>16</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Rodolfo José Mamani</td>
      <td>Masculino</td>
      <td>29</td>
      <td>Bolivia</td>
      <td>6.8</td>
      <td>4.0</td>
      <td>7.0</td>
      <td>6.5</td>
      <td>4.3</td>
      <td>3.8</td>
      <td>11</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Adriana Violeta Antillán</td>
      <td>Femenino</td>
      <td>20</td>
      <td>Chile</td>
      <td>5.1</td>
      <td>5.2</td>
      <td>7.0</td>
      <td>7.0</td>
      <td>5.0</td>
      <td>5.5</td>
      <td>16</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Qingxia Esmeralda Quiñones</td>
      <td>Femenino</td>
      <td>26</td>
      <td>Costa Rica</td>
      <td>6.0</td>
      <td>5.8</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>5.5</td>
      <td>4.9</td>
      <td>12</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>Para poder mirar rápidamente algunas características de la tabla de datos, podemos usar los atributos o métodos que se listan a continuación. Si la descripción no te queda muy clara en una primera lectura, no te preocupes porque mostraremos ejemplos de su uso a continuación.</p>
<ul>
<li><code>shape</code>: Entrega las dimensiones de la tabla (número filas y columnas).</li>
<li><code>columns</code>: Entrega los nombres de las columnas de la tabla.</li>
<li><code>describe()</code>: Entrega un un resumen de estadísticas descriptivas para las variables.</li>
<li><code>unique()</code>: Entrega el conjunto de valores únicos que toman una o más columnas.</li>
<li><code>value_counts()</code>: Cuenta el número de valores únicos que toman una o más columnas.</li>
</ul>
<section id="ejemplo" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="ejemplo">Ejemplo</h3>
<p>Inspeccionemos la base de datos <code>notas</code>.</p>
<p>Empecemos determinando el número de filas (observaciones) y columnas (variables) que esta base tiene.</p>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>notas.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="45">
<pre><code>(10, 11)</code></pre>
</div>
</div>
<p>Vemos que tiene 10 filas (alumnos), y 11 columnas (variables).</p>
<p>Podemos conocer el nombre de estas 11 columnas usando el atributo <code>columns</code>.</p>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>notas.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="46">
<pre><code>Index(['Nombre', 'Género', 'Edad', 'País', 'Prueba 1', 'Prueba 2', 'Tarea 1',
       'Tarea 2', 'Tarea 3', 'Examen', 'Asistencia'],
      dtype='object')</code></pre>
</div>
</div>
<p>Al parecer esta tabla tiene las notas de los alumnos en dos pruebas, 4 tareas y el examen. Además hay una variable que tiene la asistencia de cada alumnos a clases.</p>
<p>Supongamos que nos interesa explorar la variable <code>País</code> con mayor profundidad. Empecemos viendo qué valores puede tomar esta variable, usando el método <code>unique</code>.</p>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>notas[<span class="st">'País'</span>].unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="47">
<pre><code>array(['Chile', 'Perú', 'Costa Rica', 'Alemania', 'Bolivia'], dtype=object)</code></pre>
</div>
</div>
<p>Esto nos muestra que la variable <code>País</code> toma 5 valores posibles (hay alumnos de 5 países). Si queremos ver en más detalle cómo se distribuyen estos valores, podemos usar el método <code>value_counts()</code>.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Nota que para usar el método <code>unique()</code> hemos seleccionado la variable <code>País</code> desde el DataFrame, usando la sintáxis de “corchetes” (‘<code>[</code>’ y ‘<code>]</code>’). Hablaremos más en detalle de esto en la secciones relacionadas con la selección de filas y columnas.</p>
</div>
</div>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>notas.value_counts(<span class="st">'País'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="48">
<pre><code>País
Chile         3
Costa Rica    3
Perú          2
Alemania      1
Bolivia       1
dtype: int64</code></pre>
</div>
</div>
<p>Es decir, la mayor cantidad de alumnos provienen de Chile y Costa Rica.</p>
<p>Si nos interesa ver, por ejemplo, cuántas observaciones hay de cada valor de <code>País</code> y género, podemos usar <code>count</code> también.</p>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>notas.value_counts([<span class="st">'País'</span>, <span class="st">'Género'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="49">
<pre><code>País        Género   
Chile       Femenino     2
Costa Rica  Masculino    2
Perú        Femenino     2
Alemania    Femenino     1
Bolivia     Masculino    1
Chile       Masculino    1
Costa Rica  Femenino     1
dtype: int64</code></pre>
</div>
</div>
<p>Es decir, la combinaciones más frecuentes de <code>País</code> y <code>Género</code> en la clase son: mujeres chilenas, hombres costarricenses y mujeres peruanas.</p>
</section>
</section>
<section id="subconjuntos-de-filas" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="subconjuntos-de-filas"><span class="header-section-number">1.5</span> Subconjuntos de filas</h2>
<p>Una tarea común al explorar una tabla de datos es seleccionar o filtrar algunas observaciones. Para ello, utilizamos la sintáxis <code>.loc[]</code>.</p>
<p>Por ejemplo, si queremos seleccionar sólo a las alumnas del curso:</p>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>notas.loc[notas[<span class="st">'Género'</span>] <span class="op">==</span> <span class="st">"Femenino"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="50">
<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Nombre</th>
      <th>Género</th>
      <th>Edad</th>
      <th>País</th>
      <th>Prueba 1</th>
      <th>Prueba 2</th>
      <th>Tarea 1</th>
      <th>Tarea 2</th>
      <th>Tarea 3</th>
      <th>Examen</th>
      <th>Asistencia</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>Bernarda Antonia Chen</td>
      <td>Femenino</td>
      <td>25</td>
      <td>Perú</td>
      <td>3.0</td>
      <td>4.1</td>
      <td>4.4</td>
      <td>5.0</td>
      <td>6.7</td>
      <td>4.2</td>
      <td>9</td>
    </tr>
    <tr>
      <th>3</th>
      <td>María Marcia González</td>
      <td>Femenino</td>
      <td>25</td>
      <td>Chile</td>
      <td>6.8</td>
      <td>7.0</td>
      <td>7.0</td>
      <td>7.0</td>
      <td>6.8</td>
      <td>6.5</td>
      <td>14</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Claudia María Valencia</td>
      <td>Femenino</td>
      <td>24</td>
      <td>Perú</td>
      <td>5.8</td>
      <td>1.0</td>
      <td>6.2</td>
      <td>7.0</td>
      <td>6.2</td>
      <td>7.0</td>
      <td>15</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Federica Von Müller</td>
      <td>Femenino</td>
      <td>22</td>
      <td>Alemania</td>
      <td>6.0</td>
      <td>5.0</td>
      <td>6.0</td>
      <td>6.1</td>
      <td>6.0</td>
      <td>7.0</td>
      <td>16</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Adriana Violeta Antillán</td>
      <td>Femenino</td>
      <td>20</td>
      <td>Chile</td>
      <td>5.1</td>
      <td>5.2</td>
      <td>7.0</td>
      <td>7.0</td>
      <td>5.0</td>
      <td>5.5</td>
      <td>16</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Qingxia Esmeralda Quiñones</td>
      <td>Femenino</td>
      <td>26</td>
      <td>Costa Rica</td>
      <td>6.0</td>
      <td>5.8</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>5.5</td>
      <td>4.9</td>
      <td>12</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>Puedes notar que la salida de este comando es una tabla de datos, pero que sólo contiene filas correspondientes a alumnas del curso.</p>
<p>El formato general en que usamos este comando es:</p>
<blockquote class="blockquote">
<p><code>datos.loc[&lt;condición&gt;]</code> en donde <code>&lt;condición&gt;</code> es alguna condición sobre ciertas variables que tienen que satisfacer las filas a seleccionar (por ejemplo, “alumnos que hayan obtenido nota mayor o igual a 4.0 en la Prueba 2”).</p>
</blockquote>
<section id="subconjuntos-por-valor" class="level3" data-number="1.5.1">
<h3 data-number="1.5.1" class="anchored" data-anchor-id="subconjuntos-por-valor"><span class="header-section-number">1.5.1</span> Subconjuntos por valor</h3>
<p>Para generar las condiciones que nos permitirán seleccionar filas, usaremos los siguientes comparadores, operadores y comandos:</p>
<ul>
<li><code>&gt;, &lt;, &gt;=, &lt;=, ==</code>: Comparadores de orden (más detalles en la sección “[Operadores de comparación]”).</li>
<li><code>|, &amp;, xor, !</code>: Operadores lógicos (más detalles en la sección “[Conectores lógicos y negación]”).</li>
<li><code>between</code>: Permite identificar valores que caen en un rango determinado.</li>
<li><code>str_detect</code>: Detectar un string dentro de una variable.</li>
<li><code>isin()</code>: Condición de pertenencia a una colección de valores.</li>
</ul>
<section id="ejemplos" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="ejemplos">Ejemplos</h4>
<p>Veamos ahora qué alumnas aprobaron la Prueba 1 (obtuvieron una nota mayor o igual a 4.0). Es decir, la condición que buscamos es “alumna” <strong>y</strong> “nota en Prueba 1 mayor o igual a 4.0”.</p>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>notas.loc[(notas[<span class="st">'Género'</span>] <span class="op">==</span> <span class="st">"Femenino"</span>) <span class="op">&amp;</span> (notas[<span class="st">'Prueba 1'</span>] <span class="op">&gt;=</span> <span class="fl">4.0</span>)] </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="51">
<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Nombre</th>
      <th>Género</th>
      <th>Edad</th>
      <th>País</th>
      <th>Prueba 1</th>
      <th>Prueba 2</th>
      <th>Tarea 1</th>
      <th>Tarea 2</th>
      <th>Tarea 3</th>
      <th>Examen</th>
      <th>Asistencia</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3</th>
      <td>María Marcia González</td>
      <td>Femenino</td>
      <td>25</td>
      <td>Chile</td>
      <td>6.8</td>
      <td>7.0</td>
      <td>7.0</td>
      <td>7.0</td>
      <td>6.8</td>
      <td>6.5</td>
      <td>14</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Claudia María Valencia</td>
      <td>Femenino</td>
      <td>24</td>
      <td>Perú</td>
      <td>5.8</td>
      <td>1.0</td>
      <td>6.2</td>
      <td>7.0</td>
      <td>6.2</td>
      <td>7.0</td>
      <td>15</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Federica Von Müller</td>
      <td>Femenino</td>
      <td>22</td>
      <td>Alemania</td>
      <td>6.0</td>
      <td>5.0</td>
      <td>6.0</td>
      <td>6.1</td>
      <td>6.0</td>
      <td>7.0</td>
      <td>16</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Adriana Violeta Antillán</td>
      <td>Femenino</td>
      <td>20</td>
      <td>Chile</td>
      <td>5.1</td>
      <td>5.2</td>
      <td>7.0</td>
      <td>7.0</td>
      <td>5.0</td>
      <td>5.5</td>
      <td>16</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Qingxia Esmeralda Quiñones</td>
      <td>Femenino</td>
      <td>26</td>
      <td>Costa Rica</td>
      <td>6.0</td>
      <td>5.8</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>5.5</td>
      <td>4.9</td>
      <td>12</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>Si queremos seleccionar a los alumnos cuya edad está entre 25 y 30 años, pordemos usar el comando:</p>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co">#notas %&gt;% filter(between(Edad, 25, 30))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Para filtrar strings que contienen algún texto en particular se puede usar el método <code>str.contains()</code>. Por ejemplo, podemos seleccionar sólo a aquellos alumnos que tengan nombre “María” <strong>o</strong> “José”:</p>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>notas.loc[(notas[<span class="st">'Nombre'</span>].<span class="bu">str</span>.contains(<span class="st">"María"</span>)) <span class="op">|</span> (notas[<span class="st">'Nombre'</span>].<span class="bu">str</span>.contains(<span class="st">"José"</span>))]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="53">
<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Nombre</th>
      <th>Género</th>
      <th>Edad</th>
      <th>País</th>
      <th>Prueba 1</th>
      <th>Prueba 2</th>
      <th>Tarea 1</th>
      <th>Tarea 2</th>
      <th>Tarea 3</th>
      <th>Examen</th>
      <th>Asistencia</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3</th>
      <td>María Marcia González</td>
      <td>Femenino</td>
      <td>25</td>
      <td>Chile</td>
      <td>6.8</td>
      <td>7.0</td>
      <td>7.0</td>
      <td>7.0</td>
      <td>6.8</td>
      <td>6.5</td>
      <td>14</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Claudia María Valencia</td>
      <td>Femenino</td>
      <td>24</td>
      <td>Perú</td>
      <td>5.8</td>
      <td>1.0</td>
      <td>6.2</td>
      <td>7.0</td>
      <td>6.2</td>
      <td>7.0</td>
      <td>15</td>
    </tr>
    <tr>
      <th>5</th>
      <td>José Esteban Iruarrizaga</td>
      <td>Masculino</td>
      <td>18</td>
      <td>Costa Rica</td>
      <td>3.8</td>
      <td>2.3</td>
      <td>4.1</td>
      <td>3.7</td>
      <td>5.0</td>
      <td>4.0</td>
      <td>6</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Rodolfo José Mamani</td>
      <td>Masculino</td>
      <td>29</td>
      <td>Bolivia</td>
      <td>6.8</td>
      <td>4.0</td>
      <td>7.0</td>
      <td>6.5</td>
      <td>4.3</td>
      <td>3.8</td>
      <td>11</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>Si queremos filtrar usando algunos valores particulares de las variables, usamos la condición de pertenencia usando la expresión <code>isin()</code>. Por ejemplo, si queremos sólo seleccionar a los alumnos de Chile y Costa Rica:</p>
<div class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>notas.loc[notas[<span class="st">'País'</span>].isin([<span class="st">"Chile"</span>, <span class="st">"Costa Rica"</span>])]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="54">
<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Nombre</th>
      <th>Género</th>
      <th>Edad</th>
      <th>País</th>
      <th>Prueba 1</th>
      <th>Prueba 2</th>
      <th>Tarea 1</th>
      <th>Tarea 2</th>
      <th>Tarea 3</th>
      <th>Examen</th>
      <th>Asistencia</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Diego Alberto Rojas</td>
      <td>Masculino</td>
      <td>23</td>
      <td>Chile</td>
      <td>7.0</td>
      <td>3.5</td>
      <td>6.3</td>
      <td>3.5</td>
      <td>6.0</td>
      <td>5.7</td>
      <td>12</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Tito Lenin Pérez</td>
      <td>Masculino</td>
      <td>40</td>
      <td>Costa Rica</td>
      <td>5.3</td>
      <td>4.8</td>
      <td>4.5</td>
      <td>5.5</td>
      <td>6.0</td>
      <td>5.0</td>
      <td>13</td>
    </tr>
    <tr>
      <th>3</th>
      <td>María Marcia González</td>
      <td>Femenino</td>
      <td>25</td>
      <td>Chile</td>
      <td>6.8</td>
      <td>7.0</td>
      <td>7.0</td>
      <td>7.0</td>
      <td>6.8</td>
      <td>6.5</td>
      <td>14</td>
    </tr>
    <tr>
      <th>5</th>
      <td>José Esteban Iruarrizaga</td>
      <td>Masculino</td>
      <td>18</td>
      <td>Costa Rica</td>
      <td>3.8</td>
      <td>2.3</td>
      <td>4.1</td>
      <td>3.7</td>
      <td>5.0</td>
      <td>4.0</td>
      <td>6</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Adriana Violeta Antillán</td>
      <td>Femenino</td>
      <td>20</td>
      <td>Chile</td>
      <td>5.1</td>
      <td>5.2</td>
      <td>7.0</td>
      <td>7.0</td>
      <td>5.0</td>
      <td>5.5</td>
      <td>16</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Qingxia Esmeralda Quiñones</td>
      <td>Femenino</td>
      <td>26</td>
      <td>Costa Rica</td>
      <td>6.0</td>
      <td>5.8</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>5.5</td>
      <td>4.9</td>
      <td>12</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>Este comando es equivalente a:</p>
<div class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>notas.loc[(notas[<span class="st">'País'</span>] <span class="op">==</span> <span class="st">"Chile"</span>) <span class="op">|</span> (notas[<span class="st">'País'</span>] <span class="op">==</span> <span class="st">"Costa Rica"</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="55">
<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Nombre</th>
      <th>Género</th>
      <th>Edad</th>
      <th>País</th>
      <th>Prueba 1</th>
      <th>Prueba 2</th>
      <th>Tarea 1</th>
      <th>Tarea 2</th>
      <th>Tarea 3</th>
      <th>Examen</th>
      <th>Asistencia</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Diego Alberto Rojas</td>
      <td>Masculino</td>
      <td>23</td>
      <td>Chile</td>
      <td>7.0</td>
      <td>3.5</td>
      <td>6.3</td>
      <td>3.5</td>
      <td>6.0</td>
      <td>5.7</td>
      <td>12</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Tito Lenin Pérez</td>
      <td>Masculino</td>
      <td>40</td>
      <td>Costa Rica</td>
      <td>5.3</td>
      <td>4.8</td>
      <td>4.5</td>
      <td>5.5</td>
      <td>6.0</td>
      <td>5.0</td>
      <td>13</td>
    </tr>
    <tr>
      <th>3</th>
      <td>María Marcia González</td>
      <td>Femenino</td>
      <td>25</td>
      <td>Chile</td>
      <td>6.8</td>
      <td>7.0</td>
      <td>7.0</td>
      <td>7.0</td>
      <td>6.8</td>
      <td>6.5</td>
      <td>14</td>
    </tr>
    <tr>
      <th>5</th>
      <td>José Esteban Iruarrizaga</td>
      <td>Masculino</td>
      <td>18</td>
      <td>Costa Rica</td>
      <td>3.8</td>
      <td>2.3</td>
      <td>4.1</td>
      <td>3.7</td>
      <td>5.0</td>
      <td>4.0</td>
      <td>6</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Adriana Violeta Antillán</td>
      <td>Femenino</td>
      <td>20</td>
      <td>Chile</td>
      <td>5.1</td>
      <td>5.2</td>
      <td>7.0</td>
      <td>7.0</td>
      <td>5.0</td>
      <td>5.5</td>
      <td>16</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Qingxia Esmeralda Quiñones</td>
      <td>Femenino</td>
      <td>26</td>
      <td>Costa Rica</td>
      <td>6.0</td>
      <td>5.8</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>5.5</td>
      <td>4.9</td>
      <td>12</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>Pero puede ser más compacto cuando se trata de filtrar usando muchos valores.</p>
</section>
</section>
<section id="subconjuntos-por-posición" class="level3" data-number="1.5.2">
<h3 data-number="1.5.2" class="anchored" data-anchor-id="subconjuntos-por-posición"><span class="header-section-number">1.5.2</span> Subconjuntos por posición</h3>
<p>Otra de las maneras de seleccionar filas en una tabla de datos es través de su <em>posición</em> en esta. Para ello usamos los métodos <code>head()</code> y <code>tail()</code>, las cuales entregan las primeras filas (cabeza) o las últimas filas (cola) de la tabla. Esta función recibe como argumento el número de filas que queremos.</p>
<section id="ejemplos-1" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="ejemplos-1">Ejemplos</h4>
<p>Por ejemplo, si queremos los 3 primeros alumnos de lista:</p>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>notas.head(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="56">
<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Nombre</th>
      <th>Género</th>
      <th>Edad</th>
      <th>País</th>
      <th>Prueba 1</th>
      <th>Prueba 2</th>
      <th>Tarea 1</th>
      <th>Tarea 2</th>
      <th>Tarea 3</th>
      <th>Examen</th>
      <th>Asistencia</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Diego Alberto Rojas</td>
      <td>Masculino</td>
      <td>23</td>
      <td>Chile</td>
      <td>7.0</td>
      <td>3.5</td>
      <td>6.3</td>
      <td>3.5</td>
      <td>6.0</td>
      <td>5.7</td>
      <td>12</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Bernarda Antonia Chen</td>
      <td>Femenino</td>
      <td>25</td>
      <td>Perú</td>
      <td>3.0</td>
      <td>4.1</td>
      <td>4.4</td>
      <td>5.0</td>
      <td>6.7</td>
      <td>4.2</td>
      <td>9</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Tito Lenin Pérez</td>
      <td>Masculino</td>
      <td>40</td>
      <td>Costa Rica</td>
      <td>5.3</td>
      <td>4.8</td>
      <td>4.5</td>
      <td>5.5</td>
      <td>6.0</td>
      <td>5.0</td>
      <td>13</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>O los últimos 4 alumnos de la lista:</p>
<div class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>notas.tail(<span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="57">
<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Nombre</th>
      <th>Género</th>
      <th>Edad</th>
      <th>País</th>
      <th>Prueba 1</th>
      <th>Prueba 2</th>
      <th>Tarea 1</th>
      <th>Tarea 2</th>
      <th>Tarea 3</th>
      <th>Examen</th>
      <th>Asistencia</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>6</th>
      <td>Federica Von Müller</td>
      <td>Femenino</td>
      <td>22</td>
      <td>Alemania</td>
      <td>6.0</td>
      <td>5.0</td>
      <td>6.0</td>
      <td>6.1</td>
      <td>6.0</td>
      <td>7.0</td>
      <td>16</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Rodolfo José Mamani</td>
      <td>Masculino</td>
      <td>29</td>
      <td>Bolivia</td>
      <td>6.8</td>
      <td>4.0</td>
      <td>7.0</td>
      <td>6.5</td>
      <td>4.3</td>
      <td>3.8</td>
      <td>11</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Adriana Violeta Antillán</td>
      <td>Femenino</td>
      <td>20</td>
      <td>Chile</td>
      <td>5.1</td>
      <td>5.2</td>
      <td>7.0</td>
      <td>7.0</td>
      <td>5.0</td>
      <td>5.5</td>
      <td>16</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Qingxia Esmeralda Quiñones</td>
      <td>Femenino</td>
      <td>26</td>
      <td>Costa Rica</td>
      <td>6.0</td>
      <td>5.8</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>5.5</td>
      <td>4.9</td>
      <td>12</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>Nota que cuando nos referimos a las “primeras” o “últimas” filas, esto es sólo relativo a la forma en que la tabla venía ordenada originalmente. Dependiendo de cómo ordenemos la tabla, estas filas tendrán o un sentido. Lo veremos más adelante, en la sección “[Ordenamiento de filas]”.</p>


</section>
</section>
</section>
<section class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1" role="doc-endnote"><p>Fuente: <a href="https://www.metmuseum.org/art/collection/search/327385" class="uri">https://www.metmuseum.org/art/collection/search/327385</a><a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2" role="doc-endnote"><p>Fuente: Sandbh <a href="https://commons.wikimedia.org/wiki/File:Taxonomic_PT_wth_halogens.jpg" class="uri">https://commons.wikimedia.org/wiki/File:Taxonomic_PT_wth_halogens.jpg</a>, „Taxonomic PT wth halogens“<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3" role="doc-endnote"><p>Creada por Wes McKinney y un gran equipo de desarrolladores.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4" role="doc-endnote"><p>Todas las bases de datos que usaremos están disponibles en <a href="https://github.com/rocarvaj/analitica-descriptiva" class="uri">https://github.com/rocarvaj/analitica-descriptiva</a><a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    setTimeout(function() {
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./index.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Introducción</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./referencias.html" class="pagination-link">
        <span class="nav-page-text">Referencias</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>